<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">


    <meta name="robots" content="noodp" />


    <title>18F Micro-purchase - Open Opportunities: Create Agency Admin User Role</title>
    <meta property="og:title" content="18F Micro-purchase - Open Opportunities: Create Agency Admin User Role">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" media="all" href="../assets/application-e5d61d9fdbed3db45d23f3a3d1305d55f510f261ecfe3a9fc260025f259f26df.css" debug="true" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
//<![CDATA[
window.jQuery || document.write(unescape('%3Cscript src="/assets/jquery-838a8314f0932a08b822e07ddb23086e6e381a141f3d3a8263f8a42ccdadc50f.js">%3C/script>'))
//]]>
</script>
    <script src="../assets/application-30e199d0f957b76cbc8263396309fcba7602b98bf636f4cc51dcd692351732b6.js" debug="true"></script>


    <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon-69ed8e7688dee6852c16309cb9f7c58ec43560321d03fb7605874c792b23d02f.ico" />

    <!-- Meta tags -->
    <meta name="twitter:site" content="@18F">
    <meta name="twitter:creator" content="@18F">
    <meta property="og:site_name" content="18F - Micro-purchase" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://micropurchase.18f.gov" />
    <link rel="canonical" href="https://micropurchase.18f.gov" />

    <meta name="description" content="The Open Opportunities is a node.js-based platform to foster collaboration on government projects. This issue seeks to create a new user role for &quot;Agency Admins&quot; that will (in the future) give those users admin privileges to see data for users from their agency.">
    <meta property="og:description" content="The Open Opportunities is a node.js-based platform to foster collaboration on government projects. This issue seeks to create a new user role for &quot;Agency Admins&quot; that will (in the future) give those users admin privileges to see data for users from their agency.">

    <meta name="twitter:card" content="summary">

      <meta name="twitter:label1" value="Status">
<meta name="twitter:data1" value="Closed">
<meta name="twitter:label2" value="Winning Bid">
<meta name="twitter:data2" value="$2,399.00">



      <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-48605964-40', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('set', 'forceSSL', true);
    ga('send', 'pageview');
  </script>


    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body class="site">
    <div class="usa-disclaimer">
  <div class="usa-grid">
    <div class="usa-width-one-whole">
      <span class="usa-disclaimer-official">
        <img class="usa-flag_icon" alt="US flag signifying that this is a United States Federal Government website" src="../assets/uswds/us_flag_small-8a6f68dd8703ce4cb475c92fc1eefa84c41f4741ec4c6ca8403ef99b74b94d20.png" />
        An official website of the United States Government
      </span>
    </div>
  </div>
</div>


<header class="header">
<div class="usa-grid">
  <div class="usa-grid-one-half icon">
    <a href="../index.html">
      <div class="title">
        Micro-purchase <span class="usa-label label-beta">Beta</span>
        <div class="subtitle">A marketplace for open source work</div>
      </div>
</a>  </div>

</div>
</header>


    <div class="site-content">




<div class="auction-show">
  <div class="auction-header-wrapper">
    <div class="usa-grid">
      <div class="auction-title">
        <h1>Open Opportunities: Create Agency Admin User Role</h1>


        <div class="auction-subtitles">
          <div class="auction-subtitle">
            <div class="bidding-status">
              <span class="status-label over">Closed</span>

            </div>
          </div>
          <div class="auction-subtitle">
            Ended on 03/14/2016
          </div>
          <div class="auction-subtitle">
            Winning bid (Christian G. Warden): $2,399.00
          </div>
        </div>
      </div>

      <div class="auction-subnav">
  <a class="nav-auction active" href="20#">Auction</a>
  <a class="nav-auction" href="20#">Bids</a>
</div>

    </div>
  </div>

  <div class="usa-grid">
    <div class="usa-width-two-thirds">
      <div class="js-auction-view">
  <div class="auction-body">
    <div class="auction-description">
      <h2>Skills</h2>
      Express, Node.js, and Sails.js
      <h1>Description</h1>

<p>Open Opportunities uses the open source <a href="http://sailsjs.org/">sails.js</a> MVC framework (Node.js / Express). This issue seeks to create a user role of &quot;Agency Admin&quot; that gives the user access to all of the admin pages in that agency. For this micro-purchase to be complete, the vendor will create an <code>isAgencyAdmin</code> property on the user, create a policy to regulate agency admin access, and create the ability for admins to promote users to an agency admin.</p>

<p>This will be used for future functionality on the agency data tag.</p>

<p>For more information please see the <a href="https://github.com/18F/openopps-platform/issues/1229">Github Issue</a></p>

<h2>Auction rules</h2>

<p>Registered users on micropurchase.18f.gov may bid to deliver the requirements in this auction. The lowest bidder at the time the auction closes shall receive the award. The awarded bidder shall have five business days to deliver the requirements. Upon successful completion of the requirements, 18F shall pay the winning bidder.</p>

<p>Also see our <a href="https://micropurchase.18f.gov/faq">policies and guidelines page</a>.</p>

<h2>Acceptance Criteria</h2>

<h3>1.) Add “agency admin” property to user</h3>

<p>A migration script to add <code>isAgencyAdmin</code> to the midas_user table</p>

<h3>2.) Develop an “agency admin” policy</h3>

<p>Given a user is an <code>agency admin</code>,</p>

<p>When they try to access admin pages,</p>

<p>Then they would only be able to access admin pages within their own agency.  When an <code>admin user</code> visits the <code>/adminadmin user management page</code>, then browser should redirect to their agency admin page at <code>admin/agencies/:agencyid</code> with a placeholder page</p>

<p>(Looking at the isAdmin policy would provide an example of the updated policy)</p>

<p><hr /></p>

<h3>3.) Enable an admin to create an “agency admin”</h3>

<p>When an <code>admin user</code> visits the <code>admin user management page</code>,</p>

<p>Then they should be able to at any user to be  an agency admin via a UI control</p>

<h2>General acceptance criteria</h2>

<p>B or better Code Climate grade and 90% or higher test coverage for all modifications.
Tests adequately cover any new functionality.
Tests run on Travis-CI and do not break the build.
New features do not degrade accessibility (use pa11y/HTML Code Sniffer).</p>

<h2>Resources</h2>

<ul>
<li><a href="https://github.com/18F/openopps-platform/issues/1229">https://github.com/18F/openopps-platform/issues/1229</a></li>
<li><a href="https://github.com/18F/openopps-platform/blob/14283ade4c5725e2e28403b5e367bddde8139c7f/api/policies/user.js">Use of the isAdmin policy</a></li>
<li><a href="http://sailsjs.org/">http://sailsjs.org/</a></li>
</ul>

<h2>Deliverables</h2>

<p>A single pull request submitted to <a href="https://github.com/18F/openopps-platform">https://github.com/18F/openopps-platform</a> with clear, descriptive commits that satisfy all of the above acceptance criteria.</p>

    </div>
  </div>
</div>

      <div class="js-auction-view hide">
  <div class="auction-body">



    <table class="usa-table-borderless">
      <thead>
        <tr>
          <th scope="col">Bidder</th>
          <th scope="col">DUNS</th>
          <th scope="col">Amount</th>
          <th scope="col">Date (EST)</th>
        </tr>
      </thead>
      <tbody>
          <tr>
            <td>Christian G. Warden</td>
            <td>080033077</td>
            <td>$2,399.00 *</td>
            <td>March 14, 2016 01:59:58 PM EDT</td>
          </tr>
          <tr>
            <td>Scott Construction, Inc.</td>
            <td>144182268</td>
            <td>$2,400.00</td>
            <td>March 14, 2016 01:59:56 PM EDT</td>
          </tr>
          <tr>
            <td>Christian G. Warden</td>
            <td>080033077</td>
            <td>$2,499.00</td>
            <td>March 14, 2016 01:59:47 PM EDT</td>
          </tr>
          <tr>
            <td>Joe Hand</td>
            <td>080126095</td>
            <td>$2,500.00</td>
            <td>March 14, 2016 01:59:45 PM EDT</td>
          </tr>
          <tr>
            <td>Christian G. Warden</td>
            <td>080033077</td>
            <td>$2,699.00</td>
            <td>March 14, 2016 01:59:38 PM EDT</td>
          </tr>
          <tr>
            <td>Scott Construction, Inc.</td>
            <td>144182268</td>
            <td>$2,700.00</td>
            <td>March 14, 2016 01:59:26 PM EDT</td>
          </tr>
          <tr>
            <td>Joe Hand</td>
            <td>080126095</td>
            <td>$2,777.00</td>
            <td>March 14, 2016 01:59:14 PM EDT</td>
          </tr>
          <tr>
            <td>Scott Construction, Inc.</td>
            <td>144182268</td>
            <td>$2,800.00</td>
            <td>March 14, 2016 01:58:02 PM EDT</td>
          </tr>
          <tr>
            <td>Joe Hand</td>
            <td>080126095</td>
            <td>$2,891.00</td>
            <td>March 14, 2016 01:57:51 PM EDT</td>
          </tr>
          <tr>
            <td>Christian G. Warden</td>
            <td>080033077</td>
            <td>$2,899.00</td>
            <td>March 14, 2016 01:57:21 PM EDT</td>
          </tr>
          <tr>
            <td>Scott Construction, Inc.</td>
            <td>144182268</td>
            <td>$2,900.00</td>
            <td>March 14, 2016 12:23:59 PM EDT</td>
          </tr>
          <tr>
            <td>Joe Hand</td>
            <td>080126095</td>
            <td>$3,000.00</td>
            <td>March 14, 2016 11:35:09 AM EDT</td>
          </tr>
          <tr>
            <td>Scott Construction, Inc.</td>
            <td>144182268</td>
            <td>$3,499.00</td>
            <td>March 12, 2016 07:00:44 PM EST</td>
          </tr>
      </tbody>
    </table>
    <p>
      &#42; - winning bid
    </p>
  </div>
</div>

    </div>

    <div class="usa-width-one-third">
      <div class="auction-detail-panel">
  <div class="usa-alert usa-alert-info">
    <div class="usa-alert-body">
      <h3 class="usa-alert-heading">Bidding closed</h3>
      <p class="usa-alert-text">Bidding for this auction closed on March 14, 2016 02:00:00 PM EDT.</p>


    </div>
  </div>
</div>


      <div class="auction-detail-panel">
        <div class="auction-info">
            <div>
  <h6>Auction started at</h6>
  <p class="auction-label-info">March 10, 2016 01:00:00 PM EST</p>
</div>

            <div>
  <h6>Auction ended at</h6>
  <p class="auction-label-info">March 14, 2016 02:00:00 PM EDT</p>
</div>

            <div>
  <h6>Delivery deadline</h6>
  <p class="auction-label-info">March 21, 2016 02:00:00 PM EDT</p>
</div>

            <div>
  <h6>Eligible vendors</h6>
  <p class="auction-label-info">SAM.gov only</p>
</div>


          <h6>Auction type:</h6>
          <p class="auction-label-info">
          Reverse
          (<a href="rules/reverse">rules</a>)
          </p>
          <div>
  <h6>Paid at:</h6>
  <p class="auction-label-info">April 26, 2016 01:07:38 PM EDT</p>
</div>

          <div>
  <h6>Accepted at:</h6>
  <p class="auction-label-info">March 21, 2016 02:00:00 PM EDT</p>
</div>

          <p>
          <i class="fa fa-github"></i>
          <a target="_blank" href="https://github.com/18F/openopps-platform/issues/1229">View on GitHub <icon class="fa fa-angle-double-right"></icon></a>
          </p>
        </div>
      </div>
    </div>
  </div>

    </div>

    <footer class="usa-footer usa-footer-slim" role="contentinfo">

  <div class="usa-footer-primary-section">
    <div class="usa-grid-full">
      <nav class="usa-footer-nav usa-width-two-thirds">
      <ul class="usa-unstyled-list">
        <li class="usa-width-one-sixth usa-footer-primary-content">
        <a class="usa-footer-primary-link" href="../about">About</a>
        </li>
        <li class="usa-width-one-sixth usa-footer-primary-content">
        <a class="usa-footer-primary-link" href="../policies">Policies</a>
        </li>
        <li class="usa-width-one-sixth usa-footer-primary-content">
        <a class="usa-footer-primary-link" href="../docs.1">Docs</a>
        </li>
        <li class="usa-width-one-sixth usa-footer-primary-content">
        <a class="usa-footer-primary-link" href="../insights">Insights</a>
        </li>
        <li class="usa-width-one-sixth usa-footer-primary-content">
        <a class="usa-footer-primary-link" href="../api">API</a>
        </li>
      </ul>
      </nav>
      <div class="usa-width-one-third">
        <div class="usa-footer-primary-content usa-footer-contact_info">
          <a href="https://github.com/18F/micropurchase/">
            <i class="fa fa-github"></i> View on GitHub
          </a>
        </div>
        <div class="usa-footer-primary-content usa-footer-contact_info">
          <a href="mailto:micropurchase@gsa.gov">micropurchase@gsa.gov</a>
        </div>
      </div>
    </div>
  </div>

  <div class="usa-footer-secondary_section">
    <div class="usa-grid">
      <div class="usa-footer-logo">
        <img class="usa-footer-slim-logo-img logo-img" alt="Logo image" src="../assets/18F-Logo-2016-Blue-6710315924c9b82b3a0bbf41a40b953176c442dd7e0e5b63e69ce89c0ce8ad87.svg" />
        <div class="usa-footer-slim-logo-heading">Micro-purchase</div>
      </div>
    </div>
  </div>
</footer>

      <script src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js" id="_fed_an_ua_tag"></script>

  </body>
</html>
